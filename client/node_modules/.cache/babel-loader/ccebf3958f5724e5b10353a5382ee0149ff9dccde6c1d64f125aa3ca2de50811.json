{"ast":null,"code":"const ADD_TO_CART = '[PRODUCT_ITEM] ADD_TO_CART';\nconst DELETE_CART = '[CART] DELETE_CART';\nconst INCREMENT_ACTION = '[CART] COUNT_MORE';\nconst DECREMENT_ACTION = '[CART] COUNT_LESS';\nexport const addToCartAction = payload => ({\n  type: ADD_TO_CART,\n  payload\n});\nexport const deleteCartAction = payload => ({\n  type: DELETE_CART,\n  payload\n});\nexport const incrementAction = payload => ({\n  type: INCREMENT_ACTION,\n  payload\n});\nexport const decrementAction = payload => ({\n  type: DECREMENT_ACTION,\n  payload\n});\nconst checkProductInCart = (state, payload) => {\n  const productInState = state.find(el => el.id === payload.id);\n  if (productInState) {\n    productInState.count++;\n    return [...state];\n  } else {\n    return [...state, {\n      ...payload,\n      count: 1,\n      fullPrice: payload.discont_price ? payload.discont_price : payload.price\n    }];\n  }\n};\nexport const cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  if (action.type === ADD_TO_CART) {\n    return checkProductInCart(state, action.payload);\n  } else if (action.type === DELETE_CART) {\n    return state.filter(el => el.id !== action.payload);\n  } else if (action.type === INCREMENT_ACTION) {\n    state.find(el => el.id === action.payload).count++;\n    return [...state];\n  } else if (action.type === DECREMENT_ACTION) {\n    const target_cart = state.find(el => el.id === action.payload);\n    if (target_cart.count === 1) {\n      return state.filter(el => el.id !== action.payload);\n    } else {\n      target_cart.count--;\n      return [...state];\n    }\n  } else {\n    return state;\n  }\n};","map":{"version":3,"names":["ADD_TO_CART","DELETE_CART","INCREMENT_ACTION","DECREMENT_ACTION","addToCartAction","payload","type","deleteCartAction","incrementAction","decrementAction","checkProductInCart","state","productInState","find","el","id","count","fullPrice","discont_price","price","cartReducer","arguments","length","undefined","action","filter","target_cart"],"sources":["D:/Users/Mike/Dekstop/FE_Tel-ran/telran_project/client/src/store/reducers/cartReducer.js"],"sourcesContent":["const ADD_TO_CART = '[PRODUCT_ITEM] ADD_TO_CART';\nconst DELETE_CART = '[CART] DELETE_CART';\nconst INCREMENT_ACTION = '[CART] COUNT_MORE';\nconst DECREMENT_ACTION = '[CART] COUNT_LESS';\n\nexport const addToCartAction = payload => ({ type: ADD_TO_CART, payload });\nexport const deleteCartAction = payload => ({ type: DELETE_CART, payload });\nexport const incrementAction = payload => ({ type: INCREMENT_ACTION, payload });\nexport const decrementAction = payload => ({ type: DECREMENT_ACTION, payload });\n\n\nconst checkProductInCart = (state, payload) => {\n    const productInState = state.find(el => el.id === payload.id)\n    if (productInState) {\n        productInState.count++;\n        return [...state]\n    } else {\n        return [...state, { ...payload, count: 1, fullPrice: payload.discont_price ? payload.discont_price : payload.price }]\n    }\n}\n\n\nexport const cartReducer = (state = [], action) => {\n    if (action.type === ADD_TO_CART) {\n        return checkProductInCart(state, action.payload)\n    } else if (action.type === DELETE_CART) {\n        return state.filter(el => el.id !== action.payload)\n    } else if (action.type === INCREMENT_ACTION) {\n        state.find(el => el.id === action.payload).count++\n        return [...state]\n    }\n    else if (action.type === DECREMENT_ACTION) {\n        const target_cart = state.find(el => el.id === action.payload);\n        if (target_cart.count === 1) {\n            return state.filter(el => el.id !== action.payload)\n        }\n        else {\n            target_cart.count--\n            return [...state]\n        }\n    }\n    else {\n        return state\n    }\n}"],"mappings":"AAAA,MAAMA,WAAW,GAAG,4BAA4B;AAChD,MAAMC,WAAW,GAAG,oBAAoB;AACxC,MAAMC,gBAAgB,GAAG,mBAAmB;AAC5C,MAAMC,gBAAgB,GAAG,mBAAmB;AAE5C,OAAO,MAAMC,eAAe,GAAGC,OAAO,KAAK;EAAEC,IAAI,EAAEN,WAAW;EAAEK;AAAQ,CAAC,CAAC;AAC1E,OAAO,MAAME,gBAAgB,GAAGF,OAAO,KAAK;EAAEC,IAAI,EAAEL,WAAW;EAAEI;AAAQ,CAAC,CAAC;AAC3E,OAAO,MAAMG,eAAe,GAAGH,OAAO,KAAK;EAAEC,IAAI,EAAEJ,gBAAgB;EAAEG;AAAQ,CAAC,CAAC;AAC/E,OAAO,MAAMI,eAAe,GAAGJ,OAAO,KAAK;EAAEC,IAAI,EAAEH,gBAAgB;EAAEE;AAAQ,CAAC,CAAC;AAG/E,MAAMK,kBAAkB,GAAGA,CAACC,KAAK,EAAEN,OAAO,KAAK;EAC3C,MAAMO,cAAc,GAAGD,KAAK,CAACE,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACC,EAAE,KAAKV,OAAO,CAACU,EAAE,CAAC;EAC7D,IAAIH,cAAc,EAAE;IAChBA,cAAc,CAACI,KAAK,EAAE;IACtB,OAAO,CAAC,GAAGL,KAAK,CAAC;EACrB,CAAC,MAAM;IACH,OAAO,CAAC,GAAGA,KAAK,EAAE;MAAE,GAAGN,OAAO;MAAEW,KAAK,EAAE,CAAC;MAAEC,SAAS,EAAEZ,OAAO,CAACa,aAAa,GAAGb,OAAO,CAACa,aAAa,GAAGb,OAAO,CAACc;IAAM,CAAC,CAAC;EACzH;AACJ,CAAC;AAGD,OAAO,MAAMC,WAAW,GAAG,SAAAA,CAAA,EAAwB;EAAA,IAAvBT,KAAK,GAAAU,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC1C,IAAIC,MAAM,CAAClB,IAAI,KAAKN,WAAW,EAAE;IAC7B,OAAOU,kBAAkB,CAACC,KAAK,EAAEa,MAAM,CAACnB,OAAO,CAAC;EACpD,CAAC,MAAM,IAAImB,MAAM,CAAClB,IAAI,KAAKL,WAAW,EAAE;IACpC,OAAOU,KAAK,CAACc,MAAM,CAACX,EAAE,IAAIA,EAAE,CAACC,EAAE,KAAKS,MAAM,CAACnB,OAAO,CAAC;EACvD,CAAC,MAAM,IAAImB,MAAM,CAAClB,IAAI,KAAKJ,gBAAgB,EAAE;IACzCS,KAAK,CAACE,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACC,EAAE,KAAKS,MAAM,CAACnB,OAAO,CAAC,CAACW,KAAK,EAAE;IAClD,OAAO,CAAC,GAAGL,KAAK,CAAC;EACrB,CAAC,MACI,IAAIa,MAAM,CAAClB,IAAI,KAAKH,gBAAgB,EAAE;IACvC,MAAMuB,WAAW,GAAGf,KAAK,CAACE,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACC,EAAE,KAAKS,MAAM,CAACnB,OAAO,CAAC;IAC9D,IAAIqB,WAAW,CAACV,KAAK,KAAK,CAAC,EAAE;MACzB,OAAOL,KAAK,CAACc,MAAM,CAACX,EAAE,IAAIA,EAAE,CAACC,EAAE,KAAKS,MAAM,CAACnB,OAAO,CAAC;IACvD,CAAC,MACI;MACDqB,WAAW,CAACV,KAAK,EAAE;MACnB,OAAO,CAAC,GAAGL,KAAK,CAAC;IACrB;EACJ,CAAC,MACI;IACD,OAAOA,KAAK;EAChB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}